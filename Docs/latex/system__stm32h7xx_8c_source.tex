\hypertarget{system__stm32h7xx_8c_source}{}\doxysection{system\+\_\+stm32h7xx.\+c}
\label{system__stm32h7xx_8c_source}\index{Core/Src/system\_stm32h7xx.c@{Core/Src/system\_stm32h7xx.c}}
\mbox{\hyperlink{system__stm32h7xx_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00001}00001 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00047}00047 \textcolor{preprocessor}{\#include "{}stm32h7xx.h"{}}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00048}00048 \textcolor{preprocessor}{\#include <math.h>}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00049}00049 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00050}00050 \textcolor{preprocessor}{\#if !defined  (HSE\_VALUE)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00051}\mbox{\hyperlink{group___s_t_m32_h7xx___system___private___includes_gaeafcff4f57440c60e64812dddd13e7cb}{00051}} \textcolor{preprocessor}{\#define HSE\_VALUE    ((uint32\_t)25000000) }}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00052}00052 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* HSE\_VALUE */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00053}00053 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00054}00054 \textcolor{preprocessor}{\#if !defined  (CSI\_VALUE)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00055}\mbox{\hyperlink{group___s_t_m32_h7xx___system___private___includes_ga4dcbff36a4b1cfd045c01d59084255d0}{00055}} \textcolor{preprocessor}{  \#define CSI\_VALUE    ((uint32\_t)4000000) }}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00056}00056 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* CSI\_VALUE */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00057}00057 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00058}00058 \textcolor{preprocessor}{\#if !defined  (HSI\_VALUE)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00059}\mbox{\hyperlink{group___s_t_m32_h7xx___system___private___includes_gaaa8c76e274d0f6dd2cefb5d0b17fbc37}{00059}} \textcolor{preprocessor}{  \#define HSI\_VALUE    ((uint32\_t)64000000) }}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00060}00060 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* HSI\_VALUE */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00061}00061 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00062}00062 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00079}00079 \textcolor{comment}{/************************* Miscellaneous Configuration ************************/}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00081}00081 \textcolor{comment}{/* \#define DATA\_IN\_D2\_SRAM */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00082}00082 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00083}00083 \textcolor{comment}{/* Note: Following vector table addresses must be defined in line with linker}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00084}00084 \textcolor{comment}{         configuration. */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00088}00088 \textcolor{comment}{/* \#define USER\_VECT\_TAB\_ADDRESS */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00089}00089 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00090}00090 \textcolor{preprocessor}{\#if defined(USER\_VECT\_TAB\_ADDRESS)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00091}00091 \textcolor{preprocessor}{\#if defined(DUAL\_CORE) \&\& defined(CORE\_CM4)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00094}00094 \textcolor{comment}{/* \#define VECT\_TAB\_SRAM */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00095}00095 \textcolor{preprocessor}{\#if defined(VECT\_TAB\_SRAM)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00096}00096 \textcolor{preprocessor}{\#define VECT\_TAB\_BASE\_ADDRESS   D2\_AXISRAM\_BASE   }}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00098}00098 \textcolor{preprocessor}{\#define VECT\_TAB\_OFFSET         0x00000000U       }}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00100}00100 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00101}00101 \textcolor{preprocessor}{\#define VECT\_TAB\_BASE\_ADDRESS   FLASH\_BANK2\_BASE  }}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00103}00103 \textcolor{preprocessor}{\#define VECT\_TAB\_OFFSET         0x00000000U       }}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00105}00105 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* VECT\_TAB\_SRAM */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00106}00106 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00109}00109 \textcolor{comment}{/* \#define VECT\_TAB\_SRAM */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00110}00110 \textcolor{preprocessor}{\#if defined(VECT\_TAB\_SRAM)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00111}00111 \textcolor{preprocessor}{\#define VECT\_TAB\_BASE\_ADDRESS   D1\_AXISRAM\_BASE   }}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00113}00113 \textcolor{preprocessor}{\#define VECT\_TAB\_OFFSET         0x00000000U       }}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00115}00115 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00116}00116 \textcolor{preprocessor}{\#define VECT\_TAB\_BASE\_ADDRESS   FLASH\_BANK1\_BASE  }}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00118}00118 \textcolor{preprocessor}{\#define VECT\_TAB\_OFFSET         0x00000000U       }}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00120}00120 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* VECT\_TAB\_SRAM */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00121}00121 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* DUAL\_CORE \&\& CORE\_CM4 */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00122}00122 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USER\_VECT\_TAB\_ADDRESS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00123}00123 \textcolor{comment}{/******************************************************************************/}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00124}00124 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00140}00140   \textcolor{comment}{/* This variable is updated in three ways:}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00141}00141 \textcolor{comment}{      1) by calling CMSIS function SystemCoreClockUpdate()}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00142}00142 \textcolor{comment}{      2) by calling HAL API function HAL\_RCC\_GetHCLKFreq()}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00143}00143 \textcolor{comment}{      3) each time HAL\_RCC\_ClockConfig() is called to configure the system clock frequency}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00144}00144 \textcolor{comment}{         Note: If you use this function to configure the system clock; then there}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00145}00145 \textcolor{comment}{               is no need to call the 2 first functions listed above, since SystemCoreClock}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00146}00146 \textcolor{comment}{               variable is updated automatically.}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00147}00147 \textcolor{comment}{  */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00148}00148   uint32\_t SystemCoreClock = 64000000;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00149}00149   uint32\_t SystemD2Clock = 64000000;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00150}00150   \textcolor{keyword}{const}  uint8\_t D1CorePrescTable[16] = \{0, 0, 0, 0, 1, 2, 3, 4, 1, 2, 3, 4, 6, 7, 8, 9\};}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00151}00151 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00175}\mbox{\hyperlink{group___s_t_m32_h7xx___system___private___functions_ga93f514700ccf00d08dbdcff7f1224eb2}{00175}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_t_m32_h7xx___system___private___functions_ga93f514700ccf00d08dbdcff7f1224eb2}{SystemInit}} (\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00176}00176 \{}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00177}00177 \textcolor{preprocessor}{\#if defined (DATA\_IN\_D2\_SRAM)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00178}00178  \_\_IO uint32\_t tmpreg;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00179}00179 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* DATA\_IN\_D2\_SRAM */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00180}00180 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00181}00181   \textcolor{comment}{/* FPU settings -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00182}00182 \textcolor{preprocessor}{  \#if (\_\_FPU\_PRESENT == 1) \&\& (\_\_FPU\_USED == 1)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00183}00183     SCB-\/>CPACR |= ((3UL << (10*2))|(3UL << (11*2)));  \textcolor{comment}{/* set CP10 and CP11 Full Access */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00184}00184 \textcolor{preprocessor}{  \#endif}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00185}00185   \textcolor{comment}{/* Reset the RCC clock configuration to the default reset state -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00186}00186 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00187}00187    \textcolor{comment}{/* Increasing the CPU frequency */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00188}00188   \textcolor{keywordflow}{if}(FLASH\_LATENCY\_DEFAULT  > (READ\_BIT((FLASH-\/>ACR), FLASH\_ACR\_LATENCY)))}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00189}00189   \{}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00190}00190     \textcolor{comment}{/* Program the new number of wait states to the LATENCY bits in the FLASH\_ACR register */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00191}00191     MODIFY\_REG(FLASH-\/>ACR, FLASH\_ACR\_LATENCY, (uint32\_t)(FLASH\_LATENCY\_DEFAULT));}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00192}00192   \}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00193}00193 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00194}00194   \textcolor{comment}{/* Set HSION bit */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00195}00195   RCC-\/>CR |= RCC\_CR\_HSION;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00196}00196 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00197}00197   \textcolor{comment}{/* Reset CFGR register */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00198}00198   RCC-\/>CFGR = 0x00000000;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00199}00199 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00200}00200   \textcolor{comment}{/* Reset HSEON, HSECSSON, CSION, HSI48ON, CSIKERON, PLL1ON, PLL2ON and PLL3ON bits */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00201}00201   RCC-\/>CR \&= 0xEAF6ED7FU;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00202}00202 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00203}00203    \textcolor{comment}{/* Decreasing the number of wait states because of lower CPU frequency */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00204}00204   \textcolor{keywordflow}{if}(FLASH\_LATENCY\_DEFAULT  < (READ\_BIT((FLASH-\/>ACR), FLASH\_ACR\_LATENCY)))}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00205}00205   \{}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00206}00206     \textcolor{comment}{/* Program the new number of wait states to the LATENCY bits in the FLASH\_ACR register */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00207}00207     MODIFY\_REG(FLASH-\/>ACR, FLASH\_ACR\_LATENCY, (uint32\_t)(FLASH\_LATENCY\_DEFAULT));}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00208}00208   \}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00209}00209 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00210}00210 \textcolor{preprocessor}{\#if defined(D3\_SRAM\_BASE)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00211}00211   \textcolor{comment}{/* Reset D1CFGR register */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00212}00212   RCC-\/>D1CFGR = 0x00000000;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00213}00213 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00214}00214   \textcolor{comment}{/* Reset D2CFGR register */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00215}00215   RCC-\/>D2CFGR = 0x00000000;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00216}00216 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00217}00217   \textcolor{comment}{/* Reset D3CFGR register */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00218}00218   RCC-\/>D3CFGR = 0x00000000;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00219}00219 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00220}00220   \textcolor{comment}{/* Reset CDCFGR1 register */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00221}00221   RCC-\/>CDCFGR1 = 0x00000000;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00222}00222 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00223}00223   \textcolor{comment}{/* Reset CDCFGR2 register */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00224}00224   RCC-\/>CDCFGR2 = 0x00000000;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00225}00225 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00226}00226   \textcolor{comment}{/* Reset SRDCFGR register */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00227}00227   RCC-\/>SRDCFGR = 0x00000000;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00228}00228 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00229}00229   \textcolor{comment}{/* Reset PLLCKSELR register */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00230}00230   RCC-\/>PLLCKSELR = 0x02020200;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00231}00231 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00232}00232   \textcolor{comment}{/* Reset PLLCFGR register */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00233}00233   RCC-\/>PLLCFGR = 0x01FF0000;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00234}00234   \textcolor{comment}{/* Reset PLL1DIVR register */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00235}00235   RCC-\/>PLL1DIVR = 0x01010280;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00236}00236   \textcolor{comment}{/* Reset PLL1FRACR register */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00237}00237   RCC-\/>PLL1FRACR = 0x00000000;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00238}00238 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00239}00239   \textcolor{comment}{/* Reset PLL2DIVR register */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00240}00240   RCC-\/>PLL2DIVR = 0x01010280;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00241}00241 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00242}00242   \textcolor{comment}{/* Reset PLL2FRACR register */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00243}00243 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00244}00244   RCC-\/>PLL2FRACR = 0x00000000;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00245}00245   \textcolor{comment}{/* Reset PLL3DIVR register */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00246}00246   RCC-\/>PLL3DIVR = 0x01010280;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00247}00247 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00248}00248   \textcolor{comment}{/* Reset PLL3FRACR register */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00249}00249   RCC-\/>PLL3FRACR = 0x00000000;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00250}00250 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00251}00251   \textcolor{comment}{/* Reset HSEBYP bit */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00252}00252   RCC-\/>CR \&= 0xFFFBFFFFU;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00253}00253 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00254}00254   \textcolor{comment}{/* Disable all interrupts */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00255}00255   RCC-\/>CIER = 0x00000000;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00256}00256 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00257}00257 \textcolor{preprocessor}{\#if (STM32H7\_DEV\_ID == 0x450UL)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00258}00258   \textcolor{comment}{/* dual core CM7 or single core line */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00259}00259   \textcolor{keywordflow}{if}((DBGMCU-\/>IDCODE \& 0xFFFF0000U) < 0x20000000U)}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00260}00260   \{}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00261}00261     \textcolor{comment}{/* if stm32h7 revY*/}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00262}00262     \textcolor{comment}{/* Change  the switch matrix read issuing capability to 1 for the AXI SRAM target (Target 7) */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00263}00263     *((\_\_IO uint32\_t*)0x51008108) = 0x000000001U;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00264}00264   \}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00265}00265 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* STM32H7\_DEV\_ID */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00266}00266 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00267}00267 \textcolor{preprocessor}{\#if defined(DATA\_IN\_D2\_SRAM)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00268}00268   \textcolor{comment}{/* in case of initialized data in D2 SRAM (AHB SRAM), enable the D2 SRAM clock (AHB SRAM clock) */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00269}00269 \textcolor{preprocessor}{\#if defined(RCC\_AHB2ENR\_D2SRAM3EN)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00270}00270   RCC-\/>AHB2ENR |= (RCC\_AHB2ENR\_D2SRAM1EN | RCC\_AHB2ENR\_D2SRAM2EN | RCC\_AHB2ENR\_D2SRAM3EN);}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00271}00271 \textcolor{preprocessor}{\#elif defined(RCC\_AHB2ENR\_D2SRAM2EN)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00272}00272   RCC-\/>AHB2ENR |= (RCC\_AHB2ENR\_D2SRAM1EN | RCC\_AHB2ENR\_D2SRAM2EN);}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00273}00273 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00274}00274   RCC-\/>AHB2ENR |= (RCC\_AHB2ENR\_AHBSRAM1EN | RCC\_AHB2ENR\_AHBSRAM2EN);}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00275}00275 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* RCC\_AHB2ENR\_D2SRAM3EN */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00276}00276 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00277}00277   tmpreg = RCC-\/>AHB2ENR;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00278}00278   (void) tmpreg;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00279}00279 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* DATA\_IN\_D2\_SRAM */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00280}00280 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00281}00281 \textcolor{preprocessor}{\#if defined(DUAL\_CORE) \&\& defined(CORE\_CM4)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00282}00282   \textcolor{comment}{/* Configure the Vector Table location add offset address for cortex-\/M4 -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00283}00283 \textcolor{preprocessor}{\#if defined(USER\_VECT\_TAB\_ADDRESS)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00284}00284   SCB-\/>VTOR = VECT\_TAB\_BASE\_ADDRESS | VECT\_TAB\_OFFSET; \textcolor{comment}{/* Vector Table Relocation in Internal D2 AXI-\/RAM or in Internal FLASH */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00285}00285 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USER\_VECT\_TAB\_ADDRESS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00286}00286 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00287}00287 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00288}00288   \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00289}00289 \textcolor{comment}{   * Disable the FMC bank1 (enabled after reset).}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00290}00290 \textcolor{comment}{   * This, prevents CPU speculation access on this bank which blocks the use of FMC during}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00291}00291 \textcolor{comment}{   * 24us. During this time the others FMC master (such as LTDC) cannot use it!}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00292}00292 \textcolor{comment}{   */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00293}00293   FMC\_Bank1\_R-\/>BTCR[0] = 0x000030D2;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00294}00294 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00295}00295   \textcolor{comment}{/* Configure the Vector Table location -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00296}00296 \textcolor{preprocessor}{\#if defined(USER\_VECT\_TAB\_ADDRESS)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00297}00297   SCB-\/>VTOR = VECT\_TAB\_BASE\_ADDRESS | VECT\_TAB\_OFFSET; \textcolor{comment}{/* Vector Table Relocation in Internal D1 AXI-\/RAM or in Internal FLASH */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00298}00298 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USER\_VECT\_TAB\_ADDRESS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00299}00299 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00300}00300 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/*DUAL\_CORE \&\& CORE\_CM4*/}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00301}00301 \}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00302}00302 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00340}\mbox{\hyperlink{group___s_t_m32_h7xx___system___private___functions_gae0c36a9591fe6e9c45ecb21a794f0f0f}{00340}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_t_m32_h7xx___system___private___functions_gae0c36a9591fe6e9c45ecb21a794f0f0f}{SystemCoreClockUpdate}} (\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00341}00341 \{}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00342}00342   uint32\_t pllp, pllsource, pllm, pllfracen, hsivalue, tmp;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00343}00343   uint32\_t common\_system\_clock;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00344}00344   float\_t fracn1, pllvco;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00345}00345 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00346}00346 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00347}00347   \textcolor{comment}{/* Get SYSCLK source -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00348}00348 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00349}00349   \textcolor{keywordflow}{switch} (RCC-\/>CFGR \& RCC\_CFGR\_SWS)}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00350}00350   \{}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00351}00351   \textcolor{keywordflow}{case} RCC\_CFGR\_SWS\_HSI:  \textcolor{comment}{/* HSI used as system clock source */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00352}00352     common\_system\_clock = (uint32\_t) (\mbox{\hyperlink{group___s_t_m32_h7xx___system___private___includes_gaaa8c76e274d0f6dd2cefb5d0b17fbc37}{HSI\_VALUE}} >> ((RCC-\/>CR \& RCC\_CR\_HSIDIV)>> 3));}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00353}00353     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00354}00354 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00355}00355   \textcolor{keywordflow}{case} RCC\_CFGR\_SWS\_CSI:  \textcolor{comment}{/* CSI used as system clock  source */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00356}00356     common\_system\_clock = \mbox{\hyperlink{group___s_t_m32_h7xx___system___private___includes_ga4dcbff36a4b1cfd045c01d59084255d0}{CSI\_VALUE}};}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00357}00357     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00358}00358 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00359}00359   \textcolor{keywordflow}{case} RCC\_CFGR\_SWS\_HSE:  \textcolor{comment}{/* HSE used as system clock  source */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00360}00360     common\_system\_clock = \mbox{\hyperlink{group___s_t_m32_h7xx___system___private___includes_gaeafcff4f57440c60e64812dddd13e7cb}{HSE\_VALUE}};}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00361}00361     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00362}00362 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00363}00363   \textcolor{keywordflow}{case} RCC\_CFGR\_SWS\_PLL1:  \textcolor{comment}{/* PLL1 used as system clock  source */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00364}00364 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00365}00365     \textcolor{comment}{/* PLL\_VCO = (HSE\_VALUE or HSI\_VALUE or CSI\_VALUE/ PLLM) * PLLN}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00366}00366 \textcolor{comment}{    SYSCLK = PLL\_VCO / PLLR}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00367}00367 \textcolor{comment}{    */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00368}00368     pllsource = (RCC-\/>PLLCKSELR \& RCC\_PLLCKSELR\_PLLSRC);}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00369}00369     pllm = ((RCC-\/>PLLCKSELR \& RCC\_PLLCKSELR\_DIVM1)>> 4)  ;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00370}00370     pllfracen = ((RCC-\/>PLLCFGR \& RCC\_PLLCFGR\_PLL1FRACEN)>>RCC\_PLLCFGR\_PLL1FRACEN\_Pos);}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00371}00371     fracn1 = (float\_t)(uint32\_t)(pllfracen* ((RCC-\/>PLL1FRACR \& RCC\_PLL1FRACR\_FRACN1)>> 3));}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00372}00372 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00373}00373     \textcolor{keywordflow}{if} (pllm != 0U)}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00374}00374     \{}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00375}00375       \textcolor{keywordflow}{switch} (pllsource)}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00376}00376       \{}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00377}00377         \textcolor{keywordflow}{case} RCC\_PLLCKSELR\_PLLSRC\_HSI:  \textcolor{comment}{/* HSI used as PLL clock source */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00378}00378 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00379}00379         hsivalue = (\mbox{\hyperlink{group___s_t_m32_h7xx___system___private___includes_gaaa8c76e274d0f6dd2cefb5d0b17fbc37}{HSI\_VALUE}} >> ((RCC-\/>CR \& RCC\_CR\_HSIDIV)>> 3)) ;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00380}00380         pllvco = ( (float\_t)hsivalue / (float\_t)pllm) * ((float\_t)(uint32\_t)(RCC-\/>PLL1DIVR \& RCC\_PLL1DIVR\_N1) + (fracn1/(float\_t)0x2000) +(float\_t)1 );}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00381}00381 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00382}00382         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00383}00383 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00384}00384         \textcolor{keywordflow}{case} RCC\_PLLCKSELR\_PLLSRC\_CSI:  \textcolor{comment}{/* CSI used as PLL clock source */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00385}00385           pllvco = ((float\_t)\mbox{\hyperlink{group___s_t_m32_h7xx___system___private___includes_ga4dcbff36a4b1cfd045c01d59084255d0}{CSI\_VALUE}} / (float\_t)pllm) * ((float\_t)(uint32\_t)(RCC-\/>PLL1DIVR \& RCC\_PLL1DIVR\_N1) + (fracn1/(float\_t)0x2000) +(float\_t)1 );}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00386}00386         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00387}00387 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00388}00388         \textcolor{keywordflow}{case} RCC\_PLLCKSELR\_PLLSRC\_HSE:  \textcolor{comment}{/* HSE used as PLL clock source */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00389}00389           pllvco = ((float\_t)\mbox{\hyperlink{group___s_t_m32_h7xx___system___private___includes_gaeafcff4f57440c60e64812dddd13e7cb}{HSE\_VALUE}} / (float\_t)pllm) * ((float\_t)(uint32\_t)(RCC-\/>PLL1DIVR \& RCC\_PLL1DIVR\_N1) + (fracn1/(float\_t)0x2000) +(float\_t)1 );}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00390}00390         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00391}00391 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00392}00392       \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00393}00393           hsivalue = (\mbox{\hyperlink{group___s_t_m32_h7xx___system___private___includes_gaaa8c76e274d0f6dd2cefb5d0b17fbc37}{HSI\_VALUE}} >> ((RCC-\/>CR \& RCC\_CR\_HSIDIV)>> 3)) ;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00394}00394           pllvco = ((float\_t)hsivalue / (float\_t)pllm) * ((float\_t)(uint32\_t)(RCC-\/>PLL1DIVR \& RCC\_PLL1DIVR\_N1) + (fracn1/(float\_t)0x2000) +(float\_t)1 );}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00395}00395         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00396}00396       \}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00397}00397       pllp = (((RCC-\/>PLL1DIVR \& RCC\_PLL1DIVR\_P1) >>9) + 1U ) ;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00398}00398       common\_system\_clock =  (uint32\_t)(float\_t)(pllvco/(float\_t)pllp);}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00399}00399     \}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00400}00400     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00401}00401     \{}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00402}00402       common\_system\_clock = 0U;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00403}00403     \}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00404}00404     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00405}00405 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00406}00406   \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00407}00407     common\_system\_clock = (uint32\_t) (\mbox{\hyperlink{group___s_t_m32_h7xx___system___private___includes_gaaa8c76e274d0f6dd2cefb5d0b17fbc37}{HSI\_VALUE}} >> ((RCC-\/>CR \& RCC\_CR\_HSIDIV)>> 3));}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00408}00408     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00409}00409   \}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00410}00410 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00411}00411   \textcolor{comment}{/* Compute SystemClock frequency -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00412}00412 \textcolor{preprocessor}{\#if defined (RCC\_D1CFGR\_D1CPRE)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00413}00413   tmp = D1CorePrescTable[(RCC-\/>D1CFGR \& RCC\_D1CFGR\_D1CPRE)>> RCC\_D1CFGR\_D1CPRE\_Pos];}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00414}00414 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00415}00415   \textcolor{comment}{/* common\_system\_clock frequency : CM7 CPU frequency  */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00416}00416   common\_system\_clock >>= tmp;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00417}00417 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00418}00418   \textcolor{comment}{/* SystemD2Clock frequency : CM4 CPU, AXI and AHBs Clock frequency  */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00419}00419   SystemD2Clock = (common\_system\_clock >> ((D1CorePrescTable[(RCC-\/>D1CFGR \& RCC\_D1CFGR\_HPRE)>> RCC\_D1CFGR\_HPRE\_Pos]) \& 0x1FU));}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00420}00420 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00421}00421 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00422}00422   tmp = D1CorePrescTable[(RCC-\/>CDCFGR1 \& RCC\_CDCFGR1\_CDCPRE)>> RCC\_CDCFGR1\_CDCPRE\_Pos];}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00423}00423 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00424}00424   \textcolor{comment}{/* common\_system\_clock frequency : CM7 CPU frequency  */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00425}00425   common\_system\_clock >>= tmp;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00426}00426 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00427}00427   \textcolor{comment}{/* SystemD2Clock frequency : AXI and AHBs Clock frequency  */}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00428}00428   SystemD2Clock = (common\_system\_clock >> ((D1CorePrescTable[(RCC-\/>CDCFGR1 \& RCC\_CDCFGR1\_HPRE)>> RCC\_CDCFGR1\_HPRE\_Pos]) \& 0x1FU));}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00429}00429 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00430}00430 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00431}00431 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00432}00432 \textcolor{preprocessor}{\#if defined(DUAL\_CORE) \&\& defined(CORE\_CM4)}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00433}00433   SystemCoreClock = SystemD2Clock;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00434}00434 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00435}00435   SystemCoreClock = common\_system\_clock;}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00436}00436 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* DUAL\_CORE \&\& CORE\_CM4 */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00437}00437 \}}
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00438}00438 }
\DoxyCodeLine{\Hypertarget{system__stm32h7xx_8c_source_l00439}00439 }

\end{DoxyCode}
